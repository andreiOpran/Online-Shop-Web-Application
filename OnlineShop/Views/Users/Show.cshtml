@model OnlineShop.Models.ApplicationUser

@if (TempData["message"] != null)
{
    <div class="alert @TempData["messageType"] p-3 rounded-3 text-center mb-5">
        @TempData["message"]
    </div>
}

<br />

<div class="row row-cols-1 row-cols-md-3 g-4">
    <div class="col">
        <div class="card h-100 d-flex flex-column border-primary mb-3">
            <div class="card-body d-flex flex-column">
                <h3 class="card-header mt-2"><i class="bi bi-person-circle"></i> User Details</h3>
                <br />

                <p><i class="bi bi-person-circle"></i> Username: @Model.UserName</p>
                <p><i class="bi bi-envelope"></i> User Email: @Model.Email</p>

                <!-- User Roles -->
                @if (ViewBag.Roles.Count > 0)
                {
                    <p><i class="bi bi-person-check"></i> User Roles:</p>
                    <div class="d-flex flex-column mt-2">
                        @foreach (var role in ViewBag.Roles)
                        {
                            <span class="rounded-pill text-white px-4 py-2 mb-2" style="background-color: rgba(37, 117, 252, 0.9);">
                                @role
                            </span>
                        }
                    </div>
                }
                <!-- Back to Users List -->
                <div class="mt-3">
                    <a asp-controller="Users" asp-action="Index" class="btn w-100 text-white"
                       style="background-color: rgba(106, 17, 203, 0.9); border-radius: 4px; padding: 6px 0;">
                        <i class="bi bi-arrow-left"></i> Back to Users List
                    </a>
                </div>

                <!-- Delete User -->
                @if ((string)Model.Id != ViewBag.UserCurent.Id)
                {
                    <div class="mt-3">
                        <form asp-controller="Users" asp-action="Delete" method="post" asp-route-id="@Model.Id">
                            <button type="submit" class="btn btn-sm btn-danger w-100 mt-auto">
                                <i class="bi bi-trash"></i> Delete User
                            </button>
                        </form>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
